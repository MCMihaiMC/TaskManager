@model ViewModel

@{
    ViewData["Title"] = "Task Manager";
}

<div class="text-center">
    <h1 class="display-4">Task Manager</h1>
</div>

@using (Html.BeginForm("Index", "Home", FormMethod.Post))
{
    <b>Tasks: </b>
    <br />
    @foreach (var task in Model.ListTasks)
    {
        <div>
            <div>
                <input type="button" value=@Html.DisplayFor(m=>task.Name) id=@Html.DisplayFor(m=>task.Id) onclick="loadChildren('@task.Id');" />
            </div>
            <div id="task_@task.Id" class="step">
            </div>
        </div>

        <br />
        <br />
    }
}

<script type="text/javascript">

    function loadChildren(e) {
        console.log(e);

        var url = "https://localhost:7143/getsteps/" + e;

        $.get(url, function (data) {

            $("#task_" + e).html(data)

        });

        return false;
    }
</script>

<style>

    .step {
        left: 15px;
        position: relative;
    }
</style>